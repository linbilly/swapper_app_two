<ion-view>
<ion-nav-title>Details</ion-nav-title>
  <ion-nav-buttons side="left">
    <a class="button button-icon icon ion-ios-arrow-back" href="#/tab/general/groups/index">Groups</a>
  </ion-nav-buttons>
  <div class="row loader-holder">
    <ion-spinner class="actual-loader spinner-positive" icon="lines" ng-show="loader"></ion-spinner>
  </div>
  <ion-content>
    <div class="detailed-group-header-holder">
      <div class="title">
        <h4>
          {{groupName}}
        </h4>
      </div>
      <div>
        {{message}}
      </div>
      <button class="button button-positive" ng-click="joinGroup()" ng-show="!groupHasUser" ng-class="buttonClicked ? 'clicked' : ''">
        <ion-spinner icon="lines" class="join-leave-loader" ng-show="buttonClicked"></ion-spinner>
        Join Group
      </button>
      <div>
      </div>
      <div ng-show="groupHasUser">
        <div class="row">
          <div class="col">
            <button class="button">
              <i class="icon ion-checkmark"></i> Joined
            </button>
          </div>
          <div class="col col-center">
            <a class="leave-group-link" ng-click="leaveGroup()">
              Leave group
            </a>
          </div>
        </div>
      </div>
    </div>

    <div class="item item-divider">
      Members:
    </div>
    <ion-list >
      <ion-item ng-repeat="user in users" type="item-text-wrap">
        {{user.first_name}} {{user.last_name}}
      </ion-item>
    </ion-list>

    <div class="detailed-group-footer-holder">
      <button class="button button-balanced" ng-click="joinGroup()" ng-show="!groupHasUser" ng-class="buttonClicked ? 'clicked' : ''">
        <ion-spinner icon="lines" class="join-leave-loader" ng-show="buttonClicked"></ion-spinner>
        Join group
      </button>
      <div>
      </div>
      <div ng-show="groupHasUser">
        <div class="row">
          <div class="col">
            <button class="button">
              <i class="icon ion-checkmark"></i> Joined
            </button>
          </div>
          <div class="col col-center">
            <a class="leave-group-link" ng-click="leaveGroup()">
              Leave group
            </a>
          </div>
        </div>
      </div>
    </div>
  </ion-content>
</ion-view>
